

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>WebRTC RTP &mdash; webrtc_tutorial 1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Interactive Connectivity Establishment" href="ice.html" />
    <link rel="prev" title="WebRTC Transport" href="webrtc_transmission.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> webrtc_tutorial
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../outline.html">目录</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1.basic/index.html">1. WebRTC 基础</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">2. WebRTC 传输</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">WebRTC 传输概论</a></li>
<li class="toctree-l2"><a class="reference internal" href="websocket.html">WebSocket</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_multiplex.html">WebRTC 传输的多路复用</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_transmission.html">WebRTC Transport</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">WebRTC RTP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#rtp">RTP 解决的问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">1. RTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rtcp">2. RTCP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">3. RTP 协议的度量要点</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rtt">1) 往返延时RTT</a></li>
<li class="toctree-l4"><a class="reference internal" href="#jitter">2) 抖动Jitter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#packet-loss">3) 丢包 Packet loss</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id3">4. 实例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ice.html">Interactive Connectivity Establishment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../3.media/index.html">3. WebRTC 媒体</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4.practice/index.html">4. WebRTC 实践</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5.tool/index.html">5. WebRTC 工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6.misc/index.html">6. WebRTC 关联技术</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">webrtc_tutorial</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">2. WebRTC 传输</a> &raquo;</li>
        
      <li>WebRTC RTP</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/2.transport/webrtc_rtp.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="webrtc-rtp">
<h1>WebRTC RTP<a class="headerlink" href="#webrtc-rtp" title="Permalink to this headline">¶</a></h1>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Abstract</strong></p></td>
<td><p>WebRTC RTP</p></td>
</tr>
<tr class="row-even"><td><p><strong>Authors</strong></p></td>
<td><p>Walter Fan</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Status</strong></p></td>
<td><p>WIP as draft</p></td>
</tr>
<tr class="row-even"><td><p><strong>Updated</strong></p></td>
<td><p>2021-10-31</p></td>
</tr>
</tbody>
</table>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#rtp" id="id18">RTP 解决的问题</a></p></li>
<li><p><a class="reference internal" href="#id1" id="id19">1. RTP</a></p></li>
<li><p><a class="reference internal" href="#rtcp" id="id20">2. RTCP</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id21">3. RTP 协议的度量要点</a></p>
<ul>
<li><p><a class="reference internal" href="#rtt" id="id22">1) 往返延时RTT</a></p></li>
<li><p><a class="reference internal" href="#jitter" id="id23">2) 抖动Jitter</a></p></li>
<li><p><a class="reference internal" href="#packet-loss" id="id24">3) 丢包 Packet loss</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id3" id="id25">4. 实例</a></p></li>
</ul>
</div>
<ul class="simple">
<li><p><a class="reference external" href="#id1">RTP解决的问题</a></p></li>
<li><p><a class="reference external" href="#rtp">1. RTP</a></p></li>
<li><p><a class="reference external" href="#rtcp">2. RTCP</a></p></li>
<li><p><a class="reference external" href="#id4">3. RTP 协议的度量要点</a></p>
<ul>
<li><p><a class="reference external" href="#rtt">1) 往返延时RTT</a></p></li>
<li><p><a class="reference external" href="#jitter">2) 抖动Jitter</a></p></li>
<li><p><a class="reference external" href="#packet-loss">3) 丢包 Packet loss</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#id5">4. 实例</a></p></li>
</ul>
<p>为满多媒体应用传输实时数据的需要, IETF RFC 3550 定义了实时传输协议RTP: A
Transport Protocol for Real-Time Applications
即为实时应用程序所定义的传输协议,
它为交互式音频和视频聊天和会议应用提供端到端的传输服务.</p>
<div class="section" id="rtp">
<h2><a class="toc-backref" href="#id18">RTP 解决的问题</a><a class="headerlink" href="#rtp" title="Permalink to this headline">¶</a></h2>
<p>让我们先想想实时传输需要解决哪些问题:</p>
<ol class="arabic simple">
<li><p>顺序 Sequence 多媒体数据包需要保序, 否则就会前言不搭后语,
让人不知所云, 通常我们可以用 sequenceNumber 来标识数据包的顺序,
通过它我们可以知道：</p></li>
</ol>
<ul class="simple">
<li><p>是否有数据包丢失</p></li>
<li><p>是否发生数据包乱序</p></li>
<li><p>是否需要进行无序解码</p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p>时间和缓存 Timstamp and buffer</p></li>
</ol>
<p>我们还需要知道数据包的时间,
在回放语音和视频时需要按规定的时间线播放并操持音视频同步, 所以一个
timestamp 是必需的, 通过它我们可以用来 * 回放 * 计算网络抖动和延迟</p>
<ol class="arabic simple" start="3">
<li><p>载荷类型辨识 Payload type</p></li>
</ol>
<p>我们需要知道数据包里承载的是什么内容, 媒体内容是音频还是视频,
是什么编码类型, 所以还需要一个 payload type</p>
<ol class="arabic simple" start="4">
<li><p>错误隐藏 Error concealment</p></li>
</ol>
<p>错误总是难以避免的, 特别是在网络基于 UDP 的传输, 当发现网络丢包, 延迟,
乱序时我们要采取一些错误隐藏技术,
比如在相邻帧中添加冗余来掩盖丢包的错误, 或者自动插入一些重复数据包</p>
<ol class="arabic simple" start="5">
<li><p>服务质量反馈 QoS feedback</p></li>
</ol>
<p>当语音或视频质量不佳时, 接收端需要告诉发送端做出调整,
或者调整发送速率或分辨率, 或者重新发送关键帧等, 这就需要一些度量报告,
比如 接收者报告RR(Receiver Report ) 和发送者报告SR(Sender Report)。</p>
<p>根据上述的问题和需求, RTP 协议由此制订出来, 它主要包括两块 1)
承载具有实时性质的数据的实时传输协议RTP。 2)
在进行的会话中监视服务质量并传输会话参与者信息的实时传输控制协议RTCP。</p>
<img alt="https://upload-images.jianshu.io/upload_images/1598924-7810459af208969b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" src="https://upload-images.jianshu.io/upload_images/1598924-7810459af208969b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" />
</div>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#id19">1. RTP</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>RTP 通常基于 UDP 传输, 因为多媒体数据可以忍受少量丢包,
却不能忍受数据包延时过大, 如图所示:</p>
<div class="figure align-default" id="id12">
<img alt="RTP协议栈" src="https://upload-images.jianshu.io/upload_images/1598924-75b9eae3bf48385a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" />
<p class="caption"><span class="caption-text">RTP协议栈</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<p>它的数据包格式如下:</p>
<div class="figure align-default" id="id13">
<img alt="RTP 数据包格式g" src="https://upload-images.jianshu.io/upload_images/1598924-c2c1dbb22ea20b2b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" />
<p class="caption"><span class="caption-text">RTP 数据包格式g</span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</div>
<p>包头详细解释如下: * V(version) 版本号, 2 个比特位, 当前版本为2 *
P(pad) 填充位, 1个比特位,
当它为1时表示在数据包的末尾包含一个或多个不属于载荷的填充字节,
填充的最后一个字节包含一个计数值, 表示所填充的字节数 * X (eXtenstion)
扩展位, 1个比特位, 当它为1时表示存在一个扩展头 * CC(Contribution Count)
, 贡献源的数量, 4个比特位, 定义其后的CSRC(Contributing Source) 的数量,
若无贡献源(这路多媒体数据没有合并自其他数据源), 则此项为零. * M(Marker)
标记位, 1个比特位, 不同的 RTP Profile 配置有不同定义,
一个应用数据帧可能分割成若干个RTP 数据包,
这个字段用来在某个RTP数据包中标记应用数据帧是否开始或结束 * PT(Payload
Type) 载荷类型, 7个比特位, 标识RTP 载荷的格式, 表示一个RTP
数据包中所承载的内容到底是什么, 是音频还是视频, 是什么编码 * Sequene
Number 顺序号, 16个比特位, 顺序号的起始值是随机的,
发送者每发送一个RTP数据包, 顺序号就会加1,
接收者可以通过它来检查是否有丢包和乱序, 由应用程序来决定如何应对 *
Timestamp 时间戳, 32个比特位, 表示 RTP数据包中第一个字节的采样时间,
采样时间是单调和线性增长, 可以通过它来做同步和计算抖动,
它并不是我们通常所说的一天中的某个时间,而是从一个随机的时间戳开始以一个相对值不断增加的<strong>采样个数</strong>,
比如最常见的音频编码G.711 PCMU的采样率是8000 Hz, 采样间隔为125微秒,
一个数据包的长度是20ms, 其实包含了20/0.125=160个采样,
一秒钟就有1000ms/20ms=50帧, 时间戳每个包就会增长160,
每秒增长160<em>50=8000, 在多媒体回放时需要以它为参考。</em>
SSRC(Synchronization Source) 同步源标识符, 32个比特位, 它在一个RTP
会话中唯一表示RTP的一个数据源, 比如麦克风, 摄像头这样的信号源,
也可能是一个混合器, 它作为一个中间设备将多个源混合在一起 *
CSRC(Contribution Source) 贡献源列表, 是n 个32比特位, n 是前面的 CC
字段指定的, 不超过2^4=16个, 它表示包含在这个数据包中的载荷的贡献源,
比如我们在音频会议中听到三个人在讨论问题,
这个数据包中包含了这三路语音混合在一起的音频数据,
这个贡献源列表就有三个, 包含代表每个人的麦克风的同步源。</p>
<p>RTP 标准头之后就是载荷了, 如图所示：</p>
<div class="figure align-default" id="id14">
<img alt="RTP 数据包负载g" src="https://upload-images.jianshu.io/upload_images/1598924-175b9b70ec9c2525.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" />
<p class="caption"><span class="caption-text">RTP 数据包负载g</span><a class="headerlink" href="#id14" title="Permalink to this image">¶</a></p>
</div>
<p>SDP 描述如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">v</span><span class="o">=</span><span class="mi">0</span>
<span class="n">o</span><span class="o">=</span><span class="n">sample</span> <span class="mi">496886</span> <span class="mi">497562</span> <span class="n">IN</span> <span class="n">IP4</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span>
<span class="n">s</span><span class="o">=</span><span class="n">sammple_rtp_session</span>
<span class="n">c</span><span class="o">=</span><span class="n">IN</span> <span class="n">IP4</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span>
<span class="n">t</span><span class="o">=</span><span class="mi">0</span> <span class="mi">0</span>
<span class="n">m</span><span class="o">=</span><span class="n">audio</span> <span class="mi">18276</span> <span class="n">RTP</span><span class="o">/</span><span class="n">AVP</span> <span class="mi">102</span> <span class="mi">13</span> <span class="mi">98</span> <span class="mi">99</span>
<span class="n">a</span><span class="o">=</span><span class="n">sprop</span><span class="o">-</span><span class="n">source</span><span class="p">:</span><span class="mi">1</span> <span class="n">csi</span><span class="o">=</span><span class="mi">932617472</span><span class="p">;</span><span class="n">simul</span><span class="o">=</span><span class="mi">1</span>
<span class="n">a</span><span class="o">=</span><span class="n">sprop</span><span class="o">-</span><span class="n">simul</span><span class="p">:</span><span class="mi">1</span> <span class="mi">1</span> <span class="o">*</span>
<span class="n">a</span><span class="o">=</span><span class="n">recv</span><span class="o">-</span><span class="n">source</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span>
<span class="n">a</span><span class="o">=</span><span class="n">rtpmap</span><span class="p">:</span><span class="mi">102</span> <span class="n">iLBC</span><span class="o">/</span><span class="mi">8000</span>
<span class="n">a</span><span class="o">=</span><span class="n">rtpmap</span><span class="p">:</span><span class="mi">13</span> <span class="n">CN</span><span class="o">/</span><span class="mi">8000</span>
<span class="n">a</span><span class="o">=</span><span class="n">rtpmap</span><span class="p">:</span><span class="mi">98</span> <span class="n">CN</span><span class="o">/</span><span class="mi">16000</span>
<span class="n">a</span><span class="o">=</span><span class="n">rtpmap</span><span class="p">:</span><span class="mi">99</span> <span class="n">CN</span><span class="o">/</span><span class="mi">32000</span>
<span class="n">a</span><span class="o">=</span><span class="n">extmap</span><span class="p">:</span><span class="mi">1</span> <span class="n">urn</span><span class="p">:</span><span class="n">ietf</span><span class="p">:</span><span class="n">params</span><span class="p">:</span><span class="n">rtp</span><span class="o">-</span><span class="n">hdrext</span><span class="p">:</span><span class="n">ssrc</span><span class="o">-</span><span class="n">audio</span><span class="o">-</span><span class="n">level</span>
<span class="n">a</span><span class="o">=</span><span class="n">extmap</span><span class="p">:</span><span class="mi">2</span> <span class="n">urn</span><span class="p">:</span><span class="n">ietf</span><span class="p">:</span><span class="n">params</span><span class="p">:</span><span class="n">rtp</span><span class="o">-</span><span class="n">hdrext</span><span class="p">:</span><span class="n">toffset</span>
<span class="n">a</span><span class="o">=</span><span class="n">ptime</span><span class="p">:</span><span class="mi">20</span>
</pre></div>
</div>
<p>由此可知数据包长度共为 118 字节, 其中：</p>
<ul class="simple">
<li><p>数据链接层: 16 字节</p></li>
<li><p>IP 数据包头: 20 字节</p></li>
<li><p>UDP 数据包头: 8 字节, 其载荷为RTP数据包：</p>
<ul>
<li><p>RTP 数据包: 74 字节</p>
<ul>
<li><p>RTP 数据包头: 12 字节</p></li>
<li><p>RTP 扩展头: 4字节</p></li>
<li><p>RTP 载荷: 58字节</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="rtcp">
<h2><a class="toc-backref" href="#id20">2. RTCP</a><a class="headerlink" href="#rtcp" title="Permalink to this headline">¶</a></h2>
<p>RTCP 实时传输控制协议, 它的主要目的就是基于度量来控制 RTP
的传输来改善实时传输的性能和质量, 它主要有5种类型的RTCP包： 1.
RR接收者报告Receiver Report 2. SR发送者报告 Sender Report 3.
SDES数据源描述报告 Source DEScription 4. BYE 告别报告 Goodbye 5. APP
应用程序自定义报告 Application-defined packet</p>
<p>RR, SR, SDES 可用来汇报在数据源和目的之间的多媒体传输信息,
在报告中包含一些统计信息, 比如 RTP包 发送的数量, RTP包丢失的数量,
数据包到达的抖动, 通过这些报告, 应用程序就可以修改发送速率,
也可做一些其他调整以及诊断。</p>
<div class="figure align-default" id="id15">
<img alt="RTCP 数据包类型" src="https://upload-images.jianshu.io/upload_images/1598924-6e85bc96a93ff2b5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" />
<p class="caption"><span class="caption-text">RTCP 数据包类型</span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</div>
<p>它也是基于 UDP 包进行传输：</p>
<div class="figure align-default" id="id16">
<img alt="RTCP 数据包栈" src="https://upload-images.jianshu.io/upload_images/1598924-550f96c9a5f86db7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" />
<p class="caption"><span class="caption-text">RTCP 数据包栈</span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</div>
<p>RTCP 的数据包格式如下：</p>
<div class="figure align-default" id="id17">
<img alt="RTCP packet" src="https://upload-images.jianshu.io/upload_images/1598924-dba3efba09f9bb14.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" />
<p class="caption"><span class="caption-text">RTCP packet</span><a class="headerlink" href="#id17" title="Permalink to this image">¶</a></p>
</div>
<ul class="simple">
<li><p>版本（V）：同RTP包头域。</p></li>
<li><p>填充（P）：同RTP包头域。</p></li>
<li><p>接收报告计数器（RC）：5比特，该SR包中的接收报告块的数目，可以为零。</p></li>
<li><p>包类型（PT）：8比特，SR包是200。</p></li>
<li><p>长度域（Length）：16比特，其中存放的是该SR包以32比特为单位的总长度减一。</p></li>
<li><p>同步源（SSRC）：SR包发送者的同步源标识符。与对应RTP包中的SSRC一样。</p></li>
<li><p>NTP Timestamp（Network time
protocol）SR包发送时的绝对时间值。NTP的作用是同步不同的RTP媒体流。1900.1.1至今的秒数64bits:
32 bits 整数部分 + 32 bits 小数部分</p></li>
<li><p>RTP
Timestamp：与NTP时间戳对应，与RTP数据包中的RTP时间戳具有相同的单位和随机初始值。</p></li>
<li><p>Sender’s packet
count：从开始发送包到产生这个SR包这段时间里，发送者发送的RTP数据包的总数.
SSRC改变时，这个域清零。</p></li>
<li><p>Sender`s octet
count：从开始发送包到产生这个SR包这段时间里，发送者发送的净荷数据的总字节数（不包括头部和填充）。发送者改变其SSRC时，这个域要清零。</p></li>
<li><p>同步源n的SSRC标识符：该报告块中包含的是从该源接收到的包的统计信息。</p></li>
<li><p>丢失率（Fraction
Lost）：表明从上一个SR或RR包发出以来从同步源n(SSRC_n)来的RTP数据包的丢失率。</p></li>
<li><p>Cumulative number of packets lost 24bits:
累计的包丢失数目：从开始接收到SSRC_n的包到发送SR,从SSRC_n传过来的RTP数据包的丢失总数。</p></li>
<li><p>Extended highest sequence number received: 32 bits
收到的扩展最大序列号：从SSRC_n收到的RTP数据包中最大的序列号，EHSN =
ROC*2^16, ROC 指 Sequence Number
重置回滚的次数(因为SN只有16位,很容易就会超过 2^16 的最大值,
只好再从零开始,这个重新回到零的次数即 ROC - ROll Count)</p></li>
<li><p>Interarrival jitter: 32 bits 接收抖动,RTP数据包接受时间的统计方差估计</p></li>
<li><p>Last SR (LSR): 32 bits
取最近从SSRC_n收到的SR包中的NTP时间戳的中间32比特。如果目前还没收到SR包，则该域清零。</p></li>
<li><p>Delay since last SR (DLSR) : 32 bits 上次SR以来的延时,
即上次从SSRC_n收到SR包到发送本报告的延时。 RR(n) – SR(n) 单位:
1/65536 s</p></li>
</ul>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id21">3. RTP 协议的度量要点</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>通过RTP 数据包头和 RTCP 报告, 我们能够度量 RTP 传输的三个主要度量指标
往返延迟RTT, 丢包Packet Loss 和 抖动Jitter</p>
<div class="section" id="rtt">
<h3><a class="toc-backref" href="#id22">1) 往返延时RTT</a><a class="headerlink" href="#rtt" title="Permalink to this headline">¶</a></h3>
<p>往返延时RTT 很好理解,
也就是数据包在发送和接收双方走一个来回所花费的时间.
当延时在150ms以下时，通话双方几乎不能感觉到延时的存在，而当延时在400ms以下时，也是用户能够接受的，当延时进一步增大后，达到800ms以上，正常的通话就无法进行.
接受者报告RR可用来估算在发送者和接收者之间的往返延迟 RTT,
在接收者报告中包含: * LSR(Last timestamp Sener Report received)
上一次发送者报告接收的时间 * DLSR(Delay since last sender report
received) 上一次发送者报告接收的延迟</p>
<img alt="https://upload-images.jianshu.io/upload_images/1598924-7e4e8454e5e0825e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" src="https://upload-images.jianshu.io/upload_images/1598924-7e4e8454e5e0825e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" />
<p>往返时延RTT 计算公式如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>RTT = T1 – LSR - DLSR
</pre></div>
</div>
<p>看一个例子</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">10</span> <span class="n">Nov</span> <span class="mi">1995</span> <span class="mi">11</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mf">25.125</span> <span class="n">UTC</span><span class="p">]</span>       <span class="p">[</span><span class="mi">10</span> <span class="n">Nov</span> <span class="mi">1995</span> <span class="mi">11</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mf">36.5</span> <span class="n">UTC</span><span class="p">]</span>
   <span class="n">n</span>                 <span class="n">SR</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>              <span class="n">A</span><span class="o">=</span><span class="n">b710</span><span class="p">:</span><span class="mi">8000</span> <span class="p">(</span><span class="mf">46864.500</span> <span class="n">s</span><span class="p">)</span>
   <span class="o">----------------------------------------------------------------&gt;</span>
                      <span class="n">v</span>                 <span class="o">^</span>
   <span class="n">ntp_sec</span> <span class="o">=</span><span class="mh">0xb44db705</span> <span class="n">v</span>               <span class="o">^</span> <span class="n">dlsr</span><span class="o">=</span><span class="mh">0x0005</span><span class="p">:</span><span class="mi">4000</span> <span class="p">(</span>    <span class="mf">5.250</span><span class="n">s</span><span class="p">)</span>
   <span class="n">ntp_frac</span><span class="o">=</span><span class="mh">0x20000000</span>  <span class="n">v</span>             <span class="o">^</span>  <span class="n">lsr</span> <span class="o">=</span><span class="mh">0xb705</span><span class="p">:</span><span class="mi">2000</span> <span class="p">(</span><span class="mf">46853.125</span><span class="n">s</span><span class="p">)</span>
     <span class="p">(</span><span class="mf">3024992005.125</span> <span class="n">s</span><span class="p">)</span>  <span class="n">v</span>           <span class="o">^</span>
   <span class="n">r</span>                      <span class="n">v</span>         <span class="o">^</span> <span class="n">RR</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
   <span class="o">----------------------------------------------------------------&gt;</span>
                          <span class="o">|&lt;-</span><span class="n">DLSR</span><span class="o">-&gt;|</span>
                           <span class="p">(</span><span class="mf">5.250</span> <span class="n">s</span><span class="p">)</span>

   <span class="n">A</span>     <span class="mh">0xb710</span><span class="p">:</span><span class="mi">8000</span> <span class="p">(</span><span class="mf">46864.500</span> <span class="n">s</span><span class="p">)</span>
   <span class="n">DLSR</span> <span class="o">-</span><span class="mh">0x0005</span><span class="p">:</span><span class="mi">4000</span> <span class="p">(</span>    <span class="mf">5.250</span> <span class="n">s</span><span class="p">)</span>
   <span class="n">LSR</span>  <span class="o">-</span><span class="mh">0xb705</span><span class="p">:</span><span class="mi">2000</span> <span class="p">(</span><span class="mf">46853.125</span> <span class="n">s</span><span class="p">)</span>
   <span class="o">-------------------------------</span>
   <span class="n">delay</span> <span class="mh">0x0006</span><span class="p">:</span><span class="mi">2000</span> <span class="p">(</span>    <span class="mf">6.125</span> <span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>A 是 RR 接收的时间， NTP timstamp 的32位表示为 0xb710:8000， 即
46864.500 s</p></li>
<li><p>DLSR 上 RR 中所记录的上次收到 SR 到这次发送 RR 所经历的时间，单位是
1/65536 秒， 算出为 0x0005:4000 即 5.250 s</p></li>
<li><p>LSR 是上次 SR 发送的时间，ntp_sec =0xb44db705， ntp_frac=0x20000000，
取中间32bit 为 0xb705:2000 即 46853.125 s</p></li>
</ul>
<p>结果为 A - DLSR -LSR = 46864.500 - 5.250 - 46853.125 = 6.125 s</p>
</div>
<div class="section" id="jitter">
<h3><a class="toc-backref" href="#id23">2) 抖动Jitter</a><a class="headerlink" href="#jitter" title="Permalink to this headline">¶</a></h3>
<p>在理想情况下, RTP数据包到达的间隔是固定的,
比如IP电话中最常用的编码g.711, 每个包的荷载长度为20毫秒,
每秒应该有50个数据包, 但是实际上网络并不总能稳定传输的,
阻塞,拥塞是常有的事, Jitter 抖动即指数据到达间隔的变化,如图所示:</p>
<p>抖动的计算要稍微麻烦一点, 为避免偶发的波动造成抖动的计算偏差, 它被定义为
RTP 数据包到达间隔时间的统计方差。</p>
<p>首先计算数据包接收与发送时间间隔的差别，也就是两个 packet
传输延时的差异，此时所计算的 jitter 时只用到相邻两个 packet 的 delta，
反映的是某一时刻网络延迟的变化情况</p>
<img alt="https://upload-images.jianshu.io/upload_images/1598924-2ad99cb7671ff297.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" src="https://upload-images.jianshu.io/upload_images/1598924-2ad99cb7671ff297.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" />
<p>而如下的到达间隔抖动 J
定义为差值的平均偏差（平滑后的绝对值）。之所以要除以 16
是为了减少大的随机变化的影响。
所以到达间隔时间的变化需要重复几次才能显著地影响抖动的估计</p>
<img alt="https://upload-images.jianshu.io/upload_images/1598924-e8513998b1b91ea7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" src="https://upload-images.jianshu.io/upload_images/1598924-e8513998b1b91ea7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" />
<p>抖动是不可避免的, 在合理区间的抖动是可以接受, 通常采用抖动缓冲 Jitter
Buffer 来解决抖动的问题, 数据包接收之后并不马上解码, 而是先放在缓冲区中.
假设缓冲区深度是60ms,
那么解码总是等到缓冲区中的若干数据包总长度达到60ms时才取出解码, 在60ms
之内的抖动自然没有任何影响.</p>
</div>
<div class="section" id="packet-loss">
<h3><a class="toc-backref" href="#id24">3) 丢包 Packet loss</a><a class="headerlink" href="#packet-loss" title="Permalink to this headline">¶</a></h3>
<p>如果一个UDP
包在网络上由于拥塞或超时而丢失了，或者一个TCP数据包的延时过大,
超过了最大的抖动缓冲深度, 应用程序也就不会再等待, 直接丢弃,
这时候，我们要么采用丢包补偿策略进行处理, 要么发消息让发送方重传.</p>
<p>Packet loss丢包率的公式很简单</p>
<img alt="https://upload-images.jianshu.io/upload_images/1598924-05701e3f98e6285b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" src="https://upload-images.jianshu.io/upload_images/1598924-05701e3f98e6285b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" />
<ul class="simple">
<li><p>丢失的包数 = 期望的包数 - 收到的包数</p></li>
<li><p>期望的包数 = 最大sequence number – 初始的 sequence number</p></li>
<li><p>最大sequence number = sequence number循环次数 * + 最后收到的
sequence number</p></li>
</ul>
<p>根据上述度量指标, 多媒体应用程序可以即时调整 Jitter Buffer
长度，编码参数, 分辨率, 或者发送速率等, 为用户提供流畅的体验.</p>
</div>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id25">4. 实例</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>这里写一个小程序来打印 RTP 包头，使用 ffmpeg 来推送一个 RTP 流到 8880
端口，然后写一个简单的 UDP 服务器从这个端口上接收RTP 数据并打印包头。</p>
<p>主要代码很短</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;arpa/inet.h&gt;</span>
<span class="c1">#include &lt;netinet/in.h&gt;</span>
<span class="c1">#include &lt;stdio.h&gt;</span>
<span class="c1">#include &lt;sys/types.h&gt;</span>
<span class="c1">#include &lt;sys/socket.h&gt;</span>
<span class="c1">#include &lt;unistd.h&gt;</span>
<span class="c1">#include &lt;stdlib.h&gt;</span>
<span class="c1">#include &lt;string.h&gt;</span>

<span class="c1">#include &lt;iostream&gt;</span>
<span class="c1">#include &lt;string&gt;</span>
<span class="c1">#include &quot;rtputil.h&quot;</span>

<span class="c1">#define BUFLEN 5120</span>
<span class="c1">#define PORT 8880</span>

<span class="n">using</span> <span class="n">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="n">void</span> <span class="n">exitWithMsg</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="nb">str</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">perror</span><span class="p">(</span><span class="nb">str</span><span class="p">);</span>
    <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="nb">int</span> <span class="n">main</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">struct</span> <span class="n">sockaddr_in</span> <span class="n">my_addr</span><span class="p">,</span> <span class="n">cli_addr</span><span class="p">;</span>
    <span class="nb">int</span> <span class="n">sockfd</span><span class="p">;</span>
    <span class="n">socklen_t</span> <span class="n">slen</span><span class="o">=</span><span class="n">sizeof</span><span class="p">(</span><span class="n">cli_addr</span><span class="p">);</span>
    <span class="n">uint8_t</span> <span class="n">buf</span><span class="p">[</span><span class="n">BUFLEN</span><span class="p">];</span>

    <span class="k">if</span> <span class="p">((</span><span class="n">sockfd</span> <span class="o">=</span> <span class="n">socket</span><span class="p">(</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">SOCK_DGRAM</span><span class="p">,</span> <span class="n">IPPROTO_UDP</span><span class="p">))</span><span class="o">==-</span><span class="mi">1</span><span class="p">)</span>
      <span class="n">exitWithMsg</span><span class="p">(</span><span class="s2">&quot;socket error&quot;</span><span class="p">);</span>
    <span class="k">else</span>
      <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Server : Socket() successful</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">);</span>

    <span class="n">bzero</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_addr</span><span class="p">,</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">my_addr</span><span class="p">));</span>
    <span class="n">my_addr</span><span class="o">.</span><span class="n">sin_family</span> <span class="o">=</span> <span class="n">AF_INET</span><span class="p">;</span>
    <span class="n">my_addr</span><span class="o">.</span><span class="n">sin_port</span> <span class="o">=</span> <span class="n">htons</span><span class="p">(</span><span class="n">PORT</span><span class="p">);</span>
    <span class="n">my_addr</span><span class="o">.</span><span class="n">sin_addr</span><span class="o">.</span><span class="n">s_addr</span> <span class="o">=</span> <span class="n">htonl</span><span class="p">(</span><span class="n">INADDR_ANY</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(::</span><span class="n">bind</span><span class="p">(</span><span class="n">sockfd</span><span class="p">,</span> <span class="p">(</span><span class="n">struct</span> <span class="n">sockaddr</span><span class="o">*</span> <span class="p">)</span> <span class="o">&amp;</span><span class="n">my_addr</span><span class="p">,</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">my_addr</span><span class="p">))</span><span class="o">==-</span><span class="mi">1</span><span class="p">)</span>
      <span class="n">exitWithMsg</span><span class="p">(</span><span class="s2">&quot;bind error&quot;</span><span class="p">);</span>
    <span class="k">else</span>
      <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Server : bind() successful</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">);</span>

    <span class="nb">int</span> <span class="n">pktCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nb">int</span> <span class="n">pktSize</span> <span class="o">=</span> <span class="n">recvfrom</span><span class="p">(</span><span class="n">sockfd</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="n">BUFLEN</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">struct</span> <span class="n">sockaddr</span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">cli_addr</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">slen</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">pktSize</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">exitWithMsg</span><span class="p">(</span><span class="s2">&quot;recvfrom()&quot;</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;The </span><span class="si">%d</span><span class="s2"> packet received </span><span class="si">%d</span><span class="s2"> from </span><span class="si">%s</span><span class="s2">:</span><span class="si">%d</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="o">++</span><span class="n">pktCount</span><span class="p">,</span> <span class="n">pktSize</span><span class="p">,</span> <span class="n">inet_ntoa</span><span class="p">(</span><span class="n">cli_addr</span><span class="o">.</span><span class="n">sin_addr</span><span class="p">),</span> <span class="n">ntohs</span><span class="p">(</span><span class="n">cli_addr</span><span class="o">.</span><span class="n">sin_port</span><span class="p">));</span>
        <span class="k">if</span><span class="p">(</span><span class="n">pktSize</span> <span class="o">&gt;</span> <span class="mi">12</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">dump_rtp_packet</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span>  <span class="n">pktSize</span><span class="p">)</span> <span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">close</span><span class="p">(</span><span class="n">sockfd</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>其中用到的 rtputil 代码请参见 <a class="reference external" href="https://github.com/walterfan/webrtc_primer/blob/main/snippets/media/rtputil.h">rtputil.h</a> 和 <a class="reference external" href="https://github.com/walterfan/webrtc_primer/blob/main/snippets/media/rtputil.cpp">rtputil.cpp</a>,
主要是借用了 libsrtp 中定义的结构体和工具方法</p>
<p>测试步骤</p>
<ol class="arabic simple">
<li><p>编译上述文件 拷贝
<a class="reference external" href="https://github.com/walterfan/webrtc_primer/tree/main/snippets/media">https://github.com/walterfan/webrtc_primer/tree/main/snippets/media</a>
目录到本地</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">bld</span>
<span class="n">cd</span> <span class="n">bld</span>
<span class="n">cmake</span> <span class="o">..</span>
<span class="n">make</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>启动 udp server</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">udpserver</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>找一个mpegts 文件，打开另外一个终端窗口，用 ffmpeg 来推送RTP 流到
8880 端口 (例子文件
<a class="reference external" href="https://github.com/walterfan/webrtc_primer/blob/main/material/sintel.ts">https://github.com/walterfan/webrtc_primer/blob/main/material/sintel.ts</a>)</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ffmpeg</span> <span class="o">-</span><span class="n">re</span> <span class="o">-</span><span class="n">i</span> <span class="o">./</span><span class="n">sintel</span><span class="o">.</span><span class="n">ts</span> <span class="o">-</span><span class="n">f</span> <span class="n">rtp_mpegts</span> <span class="n">udp</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8880</span>
</pre></div>
</div>
<p>执行结果如下</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ffmpeg -re -i ../../material/sintel.ts -f rtp_mpegts udp://127.0.0.1:8880
ffmpeg version 3.3.2 Copyright (c) 2000-2017 the FFmpeg developers
  built with Apple LLVM version 8.1.0 (clang-802.0.42)
  configuration: --prefix=/usr/local/Cellar/ffmpeg/3.3.2 --enable-shared --enable-pthreads --enable-gpl --enable-version3 --enable-hardcoded-tables --enable-avresample --cc=clang --host-cflags= --host-ldflags= --enable-libmp3lame --enable-libx264 --enable-libxvid --enable-opencl --disable-lzma --enable-vda
  libavutil      55. 58.100 / 55. 58.100
  libavcodec     57. 89.100 / 57. 89.100
  libavformat    57. 71.100 / 57. 71.100
  libavdevice    57.  6.100 / 57.  6.100
  libavfilter     6. 82.100 /  6. 82.100
  libavresample   3.  5.  0 /  3.  5.  0
  libswscale      4.  6.100 /  4.  6.100
  libswresample   2.  7.100 /  2.  7.100
  libpostproc    54.  5.100 / 54.  5.100
Input #0, mpegts, from &#39;../../material/sintel.ts&#39;:
  Duration: 00:00:26.13, start: 1.446667, bitrate: 1306 kb/s
  Program 1
    Metadata:
      service_name    : Service01
      service_provider: FFmpeg
    Stream #0:0[0x100]: Video: h264 (High) ([27][0][0][0] / 0x001B), yuv420p(progressive), 848x480, 25 fps, 25 tbr, 90k tbn, 50 tbc
    Stream #0:1[0x101]: Audio: aac (LC) ([15][0][0][0] / 0x000F), 48000 Hz, stereo, fltp, 151 kb/s
Stream mapping:
  Stream #0:0 -&gt; #0:0 (h264 (native) -&gt; mpeg4 (native))
  Stream #0:1 -&gt; #0:1 (aac (native) -&gt; aac (native))
Press [q] to stop, [?] for help
Output #0, rtp_mpegts, to &#39;udp://127.0.0.1:8880&#39;:
  Metadata:
    encoder         : Lavf57.71.100
    Stream #0:0: Video: mpeg4, yuv420p, 848x480, q=2-31, 200 kb/s, 25 fps, 90k tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.89.100 mpeg4
    Side data:
      cpb: bitrate max/min/avg: 0/0/200000 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC), 48000 Hz, stereo, fltp, 128 kb/s
    Metadata:
      encoder         : Lavc57.89.100 aac
frame=  653 fps= 25 q=31.0 Lsize=    2385kB time=00:00:26.19 bitrate= 745.9kbits/s dup=1 drop=0 speed=0.992x
video:1675kB audio:413kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 14.238406%
[aac @ 0x7fc976810400] Qavg: 562.469
</pre></div>
</div>
<p>另外一个窗口显示总共收到了1845 个 RTP 包</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//...</span>
<span class="n">The</span> <span class="mi">1845</span> <span class="n">packet</span> <span class="n">received</span> <span class="mi">1328</span> <span class="kn">from</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">54824</span>
<span class="p">[</span><span class="n">rtp</span><span class="p">]</span> <span class="n">dump_rtp_packet</span><span class="p">:</span> <span class="n">ssrc</span><span class="o">=</span><span class="mi">2444272939</span><span class="p">(</span><span class="mh">0x91B0A52B</span><span class="p">),</span> <span class="n">seq</span><span class="o">=</span><span class="mi">3564</span><span class="p">(</span><span class="mh">0x0DEC</span><span class="p">),</span> <span class="n">pt</span><span class="o">=</span><span class="mi">33</span><span class="p">(</span><span class="mh">0x21</span><span class="p">),</span> <span class="n">ts</span><span class="o">=</span><span class="mi">1930119409</span><span class="p">(</span><span class="mh">0x730B48F1</span><span class="p">),</span> <span class="n">hdr_ext_len</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">pkt_len</span><span class="o">=</span><span class="mi">1328</span><span class="p">,</span> <span class="n">hdr_ext</span><span class="p">:</span> <span class="mi">80210</span><span class="n">dec730b48f191b0a52b</span><span class="p">,</span> <span class="n">tailer</span><span class="p">:</span> <span class="n">ef3bc778eec0fbc1cf04ee01b0d704eae01709b805c26e3bc31addc8b0c06386db47abbc3196ed9663c50c65f36863bbacb7adbc31d3dc83c31f6dcc31bcff86</span><span class="p">,</span> <span class="n">tailer_len</span><span class="o">=</span><span class="mi">64</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="ice.html" class="btn btn-neutral float-right" title="Interactive Connectivity Establishment" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="webrtc_transmission.html" class="btn btn-neutral float-left" title="WebRTC Transport" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, walter.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>